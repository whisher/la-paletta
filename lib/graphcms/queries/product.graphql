query ProductsSlugCategory(
	$slug: String!
	$imageWidth: Int = 200
	$imageThumbnail: Int = 200
	$stage: Stage = PUBLISHED
) {
	category(where: { slug: $slug }, stage: $stage) {
		products(orderBy: price_ASC) {
			categories {
				name
				slug
			}
			description
			id
			image {
				width
				height
				thumbnail: url(
					transformation: {
						image: { resize: { width: $imageThumbnail, fit: clip } }
						document: { output: { format: webp } }
					}
				)
				url(
					transformation: {
						image: { resize: { width: $imageWidth, fit: clip } }
						document: { output: { format: webp } }
					}
				)
				altText
			}
			name
			price
			productVariantColors {
				name
				hex
				color
			}
			slug
		}
	}
}

query ProductsSlug(
	$slug: String!
	$imageWidth: Int = 200
	$imageThumbnail: Int = 200
	$stage: Stage = PUBLISHED
) {
	product(where: { slug: $slug }, stage: $stage) {
		categories {
			name
			slug
		}
		description
		id
		image {
			width
			height
			thumbnail: url(
				transformation: {
					image: { resize: { width: $imageThumbnail, fit: clip } }
					document: { output: { format: webp } }
				}
			)
			url(
				transformation: {
					image: { resize: { width: $imageWidth, fit: clip } }
					document: { output: { format: webp } }
				}
			)
			altText
		}
		name
		price
		productVariantColors {
			name
			hex
			color
		}
		slug
	}
}
